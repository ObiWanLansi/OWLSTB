import uvicorn
import datetime
import socket
import fastapi

# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


HOST = socket.gethostname()

# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

app = fastapi.FastAPI()

# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


@app.get("/")
async def root():
    return {"success": True, "version": "1.0", "host":HOST, "timestamp": datetime.datetime.now(datetime.timezone.utc)}

# ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


if __name__ == "__main__":
    uvicorn.run("RPCCService:app", host="0.0.0.0", port=1510, log_level="info", log_config="./logging_config.yaml")
